<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Radial-Tangential Distortion &mdash; proto alpha documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"Vec": ["\\mathbf{#1}", 1], "Mat": ["\\mathbf{#1}", 1], "real": "\\rm I\\!R", "Real": ["{\\real^{#1}}", 1], "ones": "{\\Vec{1}}", "Ones": ["{\\Vec{1}_{#1\\times#2}}", 2], "zeros": "{\\Vec{0}}", "Zeros": ["{\\Vec{0}_{#1\\times#2}}", 2], "Norm": ["{\\left\\lVert{#1}\\right\\rVert}", 1], "Det": ["{\\text{det}(#1)}", 1], "I": "{\\Mat{I}}", "Skew": ["{\\left(#1\\right)^{\\times}}", 1], "Min": ["\\text{min}(#1, #2)", 2], "Max": ["\\text{max}(#1, #2)", 2], "argmin": "\\mathop{\\mathrm{argmin}", "Argmin": ["\\underset{#1}{\\text{argmin }}", 1], "transpose": "T", "Transpose": ["{#1^{\\transpose}}", 1], "Inv": ["{#1^{-1}}", 1], "Trace": ["\\text{tr}(#1)", 1], "Rank": ["\\text{rank}(#1)", 1], "E": ["\\mathbb{E}\\left[#1\\right]", 1], "Bigslant": ["{\\left#1/#2\\right}", 2], "cost": "J", "error": "{\\Vec{e}}", "SO": ["\\text{SO}(#1)", 1], "so": ["\\mathfrak{so}(#1)", 1], "jac": "\\text{J}", "RV": ["\\mathbf{#1}", 1, ""], "covar": "\\mathbf{\\Sigma}", "frame": "{\\mathcal{F}}", "rot": "{\\Mat{C}}", "trans": "{\\Vec{r}}", "quat": "{{\\Vec{q}}}", "tf": "{\\Mat{T}}", "pt": "{\\Vec{r}}", "Rot": ["{\\rot_{#1#2}}", 2], "Trans": ["{\\trans_{#1#2}}", 2], "Quat": ["{\\quat_{#1#2}}", 2], "Tf": ["{\\tf_{#1#2}}", 2], "Pt": ["{\\pt_{#1#2}}", 2], "state": "{\\Vec{x}}", "pos": "{\\Vec{r}}", "vel": "{\\Vec{v}}", "acc": "{\\Vec{a}}", "dalpha": "{\\delta\\boldsymbol{\\alpha}}", "dbeta": "{\\delta\\boldsymbol{\\beta}}", "dgamma": "{\\delta\\boldsymbol{\\gamma}}", "dtheta": "{\\delta\\boldsymbol{\\theta}}", "dotdalpha": "{\\delta\\dot{\\boldsymbol{\\alpha}}}", "dotdbeta": "{\\delta\\dot{\\boldsymbol{\\beta}}}", "dotdgamma": "{\\delta\\dot{\\boldsymbol{\\gamma}}}", "dotdtheta": "{\\delta\\dot{\\boldsymbol{\\theta}}}", "dPos": "{\\dot{\\Vec{r}}}", "dVel": "{\\dot{\\Vec{v}}}", "angvel": "{\\boldsymbol{\\omega}}", "gravity": "{\\Vec{g}_{W}}", "noise": "{\\Vec{n}}", "bias": "{\\Vec{b}}", "u": "{\\Vec{u}}", "gyr": "{\\angvel}", "gyrMeas": "{\\angvel_{m}}", "gyrNoise": "{\\noise_{\\omega}}", "gyrBias": "{\\bias_{\\omega}}", "gyrBiasNoise": "{\\noise_{\\bias_{\\omega}}}", "accMeas": "{\\acc_{m}}", "accNoise": "{\\noise_{a}}", "accBias": "{\\bias_{a}}", "accBiasNoise": "{\\noise_{\\bias_{a}}}"}}, "packages": ["base", "ams", "noerrors", "noundefined"], "loader": {"load": ["[tex]/ams", "[tex]/noerrors", "[tex]/noundefined"]}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Equi-Distant Distortion" href="equi.html" />
    <link rel="prev" title="Pinhole Camera Model" href="pinhole.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> proto
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Linear Algebra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linalg/rank.html">Rank</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/trace.html">Trace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/cond.html">Condition Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/inv.html">Inverting a Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/lu.html">LU Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/chol.html">Cholesky Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/qr.html">QR Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/svd.html">SVD Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/schurs.html">Shurs’ Complement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/ssole.html">Solving System of Linear Equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/lls.html">Linear Least Squares</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/nlls.html">Non-linear Least Squares</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Statistics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stats/mean.html">Mean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/variance.html">Variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/stddev.html">Standard Deviation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/stderr.html">Standard Error</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/bayes.html">Bayes Theorem</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Computer Vision</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fundamental.html">Computer Vision Fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinhole.html">Pinhole Camera Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Radial-Tangential Distortion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#radial-tangential-point-jacobian">Radial Tangential Point Jacobian</a></li>
<li class="toctree-l2"><a class="reference internal" href="#radial-tangential-parameter-jacobian">Radial Tangential Parameter Jacobian</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="equi.html">Equi-Distant Distortion</a></li>
<li class="toctree-l1"><a class="reference internal" href="illum_invar.html">Illumination Invariant Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="optical_flow.html">Optical Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="twoview.html">Two-View Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="triangulation.html">Triangulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ba.html">Bundle Adjustment</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_tracking.html">Feature Tracking</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">State Estimation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../se/euler.html">Euler Angles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/quaternions.html">Quaternions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/diff_calc.html">Differential Calculus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/covar_recovery.html">Covariance Recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/shannon.html">Shannon Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/imu.html">IMU Preintegration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/gauge.html">Gauge Freedom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/marginalization.html">Marginalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/eskf.html">Error-State Kalman Filter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MAV</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mav/mpc.html">Outerloop Linear MPC for MAV</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">proto</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Radial-Tangential Distortion</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/cv/radtan.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="radial-tangential-distortion">
<h1>Radial-Tangential Distortion<a class="headerlink" href="#radial-tangential-distortion" title="Permalink to this headline"></a></h1>
<p id="radtan-distortion">Lens distortion generally exist in all camera lenses, therefore it is vital the
distortions observed are modelled. The most common distortion model is the
radial-tangential (or simply as radtan) distortion model. The two main
distortion components, as the name suggests, are the radial and tangential
distortion.</p>
<p>Radial distortion occurs due to the shape of the lens, where light passing
through the center undergoes no refraction, and light passing through the edges
of the lens, undergoes through severe bending causing the radial distortion.</p>
<div class="figure align-center">
<img alt="../_images/radial_distortion.png" src="../_images/radial_distortion.png" />
</div>
<p>Tangential distortion, on the other hand, is mainly due to camera sensor
mis-alignment during the manufacturing process. It occurs when the camera
sensor is not in parallel with the lens.</p>
<div class="figure align-center">
<img alt="../_images/tangential_distortion.png" src="../_images/tangential_distortion.png" />
</div>
<p>The combined radial-tangential distortion is modelled using a polynomial
approximation with parameters <span class="math notranslate nohighlight">\(k_{1}, k_{2}\)</span> and <span class="math notranslate nohighlight">\(p_{1}, p_{2}\)</span>
respectively.  To apply the distortion the observed 3D point <span class="math notranslate nohighlight">\(\Vec{p} =
[x \enspace y \enspace z]^{\transpose}\)</span> is first projected, distorted, and
finally scaled and offset in the image plane <span class="math notranslate nohighlight">\((u, v)\)</span>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
  x &amp;= X / Z \\
  y &amp;= Y / Z \\
  r^2 &amp;= x^2 + y^2 \\ \\
  x' &amp;= x \cdot (1 + (k_1 r^2) + (k_2 r^4)) \\
  y' &amp;= y \cdot (1 + (k_1 r^2) + (k_2 r^4)) \\
  x'' &amp;= x' + (2 p_1 x y + p_2 (r^2 + 2 x^2)) \\
  y'' &amp;= y' + (p_1 (r^2 + 2 y^2) + 2 p_2 x y)
\end{align}\end{split}\]</div>
<div class="section" id="radial-tangential-point-jacobian">
<h2>Radial Tangential Point Jacobian<a class="headerlink" href="#radial-tangential-point-jacobian" title="Permalink to this headline"></a></h2>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
  \dfrac{\partial{\Vec{x}'}}{\partial{\Vec{x}}} &amp;=
    \begin{bmatrix}
      J_{11} &amp; J_{12} \\
      J_{21} &amp; J_{22}
    \end{bmatrix} \\ \\
    r^2 &amp;= x^2 + y^2 \\ \\
    J_{11} &amp;= k_1 r^2 + k_2 r^4 + 2 p_1 y + 6 p_2 x
      + x (2 k_1 x + 4 k_2 x r^2) + 1 \\
    J_{12} &amp;= 2 x p_1 + 2 y p_2 + y (2 k_1 x + 4 k_2 x r^2) \\
    J_{21} &amp;= 2 x p_1 + 2 y p_2 + y (2 k_1 x + 4 k_2 x r^2) \\
    J_{22} &amp;= k_1 r^2 + k_2 r^4 + 6 p_1 y + 2 p_2 x
      + y (2 k_1 y + 4 k_2 y r^2) + 1
\end{align}\end{split}\]</div>
</div>
<div class="section" id="radial-tangential-parameter-jacobian">
<h2>Radial Tangential Parameter Jacobian<a class="headerlink" href="#radial-tangential-parameter-jacobian" title="Permalink to this headline"></a></h2>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
  \dfrac{\partial{\Vec{x}'}}{\partial{\Vec{d}}} &amp;=
    \begin{bmatrix}
      J_{11} &amp; J_{12} &amp; J_{13} &amp; J_{14} \\
      J_{21} &amp; J_{22} &amp; J_{23} &amp; J_{24}
    \end{bmatrix} \\ \\
    r^2 &amp;= x^2 + y^2 \\ \\
    J_{11} &amp;= x r^2 \\
    J_{12} &amp;= x r^4 \\
    J_{13} &amp;= 2 x y \\
    J_{14} &amp;= 3 x^2 + y^2 \\ \\
    J_{21} &amp;= y r^2 \\
    J_{22} &amp;= y r^4 \\
    J_{23} &amp;= x^2 + 3 y^2 \\
    J_{24} &amp;= 2 x y
\end{align}\end{split}\]</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pinhole.html" class="btn btn-neutral float-left" title="Pinhole Camera Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="equi.html" class="btn btn-neutral float-right" title="Equi-Distant Distortion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Chris Choi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>