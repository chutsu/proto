<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Feature Tracking &mdash; proto alpha documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"Vec": ["\\mathbf{#1}", 1], "Mat": ["\\mathbf{#1}", 1], "real": "\\rm I\\!R", "Real": ["{\\real^{#1}}", 1], "ones": "{\\Vec{1}}", "Ones": ["{\\Vec{1}_{#1\\times#2}}", 2], "zeros": "{\\Vec{0}}", "Zeros": ["{\\Vec{0}_{#1\\times#2}}", 2], "Norm": ["{\\left\\lVert{#1}\\right\\rVert}", 1], "Det": ["{\\text{det}(#1)}", 1], "I": "{\\Mat{I}}", "Skew": ["{\\left(#1\\right)^{\\times}}", 1], "Min": ["\\text{min}(#1, #2)", 2], "Max": ["\\text{max}(#1, #2)", 2], "argmin": "\\mathop{\\mathrm{argmin}", "Argmin": ["\\underset{#1}{\\text{argmin }}", 1], "transpose": "T", "Transpose": ["{#1^{\\transpose}}", 1], "Inv": ["{#1^{-1}}", 1], "Trace": ["\\text{tr}(#1)", 1], "Rank": ["\\text{rank}(#1)", 1], "E": ["\\mathbb{E}\\left[#1\\right]", 1], "Bigslant": ["{\\left#1/#2\\right}", 2], "cost": "J", "error": "{\\Vec{e}}", "SO": ["\\text{SO}(#1)", 1], "so": ["\\mathfrak{so}(#1)", 1], "jac": "\\text{J}", "RV": ["\\mathbf{#1}", 1, ""], "covar": "\\mathbf{\\Sigma}", "frame": "{\\mathcal{F}}", "rot": "{\\Mat{C}}", "trans": "{\\Vec{r}}", "quat": "{{\\Vec{q}}}", "tf": "{\\Mat{T}}", "pt": "{\\Vec{r}}", "Rot": ["{\\rot_{#1#2}}", 2], "Trans": ["{\\trans_{#1#2}}", 2], "Quat": ["{\\quat_{#1#2}}", 2], "Tf": ["{\\tf_{#1#2}}", 2], "Pt": ["{\\pt_{#1#2}}", 2], "state": "{\\Vec{x}}", "pos": "{\\Vec{r}}", "vel": "{\\Vec{v}}", "acc": "{\\Vec{a}}", "dalpha": "{\\delta\\boldsymbol{\\alpha}}", "dbeta": "{\\delta\\boldsymbol{\\beta}}", "dgamma": "{\\delta\\boldsymbol{\\gamma}}", "dtheta": "{\\delta\\boldsymbol{\\theta}}", "dotdalpha": "{\\delta\\dot{\\boldsymbol{\\alpha}}}", "dotdbeta": "{\\delta\\dot{\\boldsymbol{\\beta}}}", "dotdgamma": "{\\delta\\dot{\\boldsymbol{\\gamma}}}", "dotdtheta": "{\\delta\\dot{\\boldsymbol{\\theta}}}", "dPos": "{\\dot{\\Vec{r}}}", "dVel": "{\\dot{\\Vec{v}}}", "angvel": "{\\boldsymbol{\\omega}}", "gravity": "{\\Vec{g}_{W}}", "noise": "{\\Vec{n}}", "bias": "{\\Vec{b}}", "u": "{\\Vec{u}}", "gyr": "{\\angvel}", "gyrMeas": "{\\angvel_{m}}", "gyrNoise": "{\\noise_{\\omega}}", "gyrBias": "{\\bias_{\\omega}}", "gyrBiasNoise": "{\\noise_{\\bias_{\\omega}}}", "accMeas": "{\\acc_{m}}", "accNoise": "{\\noise_{a}}", "accBias": "{\\bias_{a}}", "accBiasNoise": "{\\noise_{\\bias_{a}}}"}}, "packages": ["base", "ams", "noerrors", "noundefined"], "loader": {"load": ["[tex]/ams", "[tex]/noerrors", "[tex]/noundefined"]}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Euler Angles" href="../se/rotations.html" />
    <link rel="prev" title="Bundle Adjustment" href="ba.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> proto
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Computer Vision</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pinhole.html">Pinhole Camera Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="radtan.html">Radial-Tangential Distortion</a></li>
<li class="toctree-l1"><a class="reference internal" href="equi.html">Equi-Distant Distortion</a></li>
<li class="toctree-l1"><a class="reference internal" href="illum_invar.html">Illumination Invariant Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="optical_flow.html">Optical Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="twoview.html">Two-View Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="triangulation.html">Triangulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ba.html">Bundle Adjustment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Feature Tracking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#fast">FAST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#feature-descriptor">Feature Descriptor</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">State Estimation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../se/rotations.html">Euler Angles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/rotations.html#quaternions">Quaternions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/diff_calc.html">Differential Calculus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/covar_recovery.html">Covariance Recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/shannon.html">Shannon Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/imu.html">IMU Preintegration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/gauge.html">Gauge Freedom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/marginalization.html">Marginalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../se/eskf.html">Error-State Kalman Filter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MAV</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mav/mpc.html">Outerloop Linear MPC for MAV</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Statistics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stats/mean.html">Mean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/variance.html">Variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/stddev.html">Standard Deviation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/stderr.html">Standard Error</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats/bayes.html">Bayes Theorem</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Linear Algebra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linalg/rank.html">Rank</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/trace.html">Trace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/cond.html">Condition Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/inv.html">Inverting a Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/lu.html">LU Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/chol.html">Cholesky Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/qr.html">QR Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/svd.html">SVD Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/schurs.html">Shurs’ Complement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/ssole.html">Solving System of Linear Equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/lls.html">Linear Least Squares</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linalg/nlls.html">Non-linear Least Squares</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">proto</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Feature Tracking</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/cv/feature_tracking.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="feature-tracking">
<h1>Feature Tracking<a class="headerlink" href="#feature-tracking" title="Permalink to this headline"></a></h1>
<p>In this section we explain how feature points are detected and matched
between different camera frames. The common feature detection and matching
pipeline for localization and mapping algorithms is:</p>
<ul class="simple">
<li><p>Detect regions of interests (image feature) in the image</p></li>
<li><p>Extract image feature information using descriptors</p></li>
<li><p>Match extracted descriptors</p></li>
</ul>
<div class="section" id="fast">
<h2>FAST<a class="headerlink" href="#fast" title="Permalink to this headline"></a></h2>
<p>Feature detection in computer vision is a process of gathering scene
information and deciding locally whether an image feature exists. The resulting
subset of image features in the image domain can in turn be used for
localization and mapping algorithms to estimate the camera pose.</p>
<p>For our requirements corners was the chosen image feature. The most widely used
corner detector is the FAST feature detector~cite{Rosten2006}. The advantage
of using FAST includes its speed and high detection rate. It operates by
inspecting a gray-scale image and applying a Bresenham circle or patch of
configurable radius (radius of 3 for a 16 pixel circle in
Fig~ref{fig:fast_corner}), where each pixel value on the circle is labeled
clockwise. If a set of <span class="math notranslate nohighlight">\(N\)</span> contiguous pixels in the circle are all
brighter than the intensity of the center candidate pixel <span class="math notranslate nohighlight">\(p\)</span> plus a
threshold value <span class="math notranslate nohighlight">\(t\)</span>, or are all darker compared to <span class="math notranslate nohighlight">\(p\)</span> minus a
threshold value <span class="math notranslate nohighlight">\(t\)</span>, then <span class="math notranslate nohighlight">\(p\)</span> is considered a corner.</p>
<img alt="../_images/fast.jpg" class="align-center" src="../_images/fast.jpg" />
<p>A uniform feature distribution over the image domain is known to avoid
degenerate configurations for SLAM, and reduce redundant information. Further,
a uniform and un-clustered corner distribution has the potential of increasing
computer vision pipeline efficiency, as a lower number of features are required
for the whole image. To encourage a uniform feature distribution a custom naive
implementation of Grid-FAST was implemented~footnote{At the time of writing
OpenCV has removed the interface to the texttt{GridAdaptedFeatureDetector}
implementation from their code base.}. The naive Grid-FAST was implemented as
follows, given an image we divide the image into <span class="math notranslate nohighlight">\(r\)</span> rows and <span class="math notranslate nohighlight">\(c\)</span> columns with
the goal of detecting a total max number of <span class="math notranslate nohighlight">\(N\)</span> corners. The max number of
corners per grid cell <span class="math notranslate nohighlight">\(n\)</span> is then given as</p>
<div class="math notranslate nohighlight">
\[n = \dfrac{N}{r \times c}\]</div>
<p>Using <span class="math notranslate nohighlight">\(n\)</span> we limit the corners detected in each image grid cell to
naively encourage a uniform distribution.</p>
<p>In Fig.~ref{fig:grid_fast_comparison} both FAST and Grid-FAST observe the same
image scene with the same detection parameters. Grid-FAST divided the image
into 10 rows and columns to encourage a uniform corner detection. While
Grid-FAST detected a lower number of corners compared to FAST (714, 1000
respectively), we can observe the benefit of using Grid-FAST in
Fig.~ref{subfig:fast_hist2d} and Fig.~ref{subfig:grid_fast_hist2d}, where it
clearly shows that FAST detection has an undesirably high detection
concentration around the chessboard in this particular scene, Grid-FAST on the
other hand does not exhibit the same problem. Although, Grid-FAST obtains
features of lower quality in terms of repeatable detection, the threshold of
corner-ness can be increased if this is an issue.</p>
</div>
<div class="section" id="feature-descriptor">
<h2>Feature Descriptor<a class="headerlink" href="#feature-descriptor" title="Permalink to this headline"></a></h2>
<p>To correspond image features detected in two different image frames a feature
descriptor is used. Feature descriptors are a way to describe the image feature
observed for matching. There are a number of feature descriptors that extract
patch information in order to create a robust and repeatable match. Feature
descriptors such as SIFT~cite{Lowe1999}, SURF~cite{Bay2006}, are histogram of
gradients (HOG) based patch descriptors. These HOG descriptors are invariant to
small rotations and lighting variations, they are however, relatively expensive
to compute. The computationally expensive components are its calculation of the
image gradient and large descriptor dimension. While both descriptors provide
quality information of image features, the aforementioned computational factors
impact the matching speed significantly.</p>
<p>Binary descriptors such as BRIEF~cite{Calonder2010}, ORB~cite{Rublee2011} and
BRISK~cite{Leutenegger2011} have been proposed to speed up the feature
descriptor and matching process. The performance boost in binary descriptors
comes in the form of using a binary sampling pattern around each image feature
previously detected (see Fig~ref{fig:binary_descriptors}), and outputting a
binary vector, instead of computing image gradients and outputting a floating
point vector. Each binary descriptor uses its own unique sampling pattern, and
outputs a binary string to be used for matching. The matching process is
cheaper compared to the HOG based descriptors, because instead of comparing two
floating point vectors, comparing binary descriptors is performed by computing
the Hamming distance using a XOR or bit count operation, which can be performed
extremely quickly on modern CPUs~cite{Calonder2012}.</p>
<div class="figure align-center" id="id1">
<img alt="../_images/brief.png" src="../_images/brief.png" />
<p class="caption"><span class="caption-text">BRIEF Descriptor</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</div>
<div class="figure align-center" id="id2">
<img alt="../_images/orb.png" src="../_images/orb.png" />
<p class="caption"><span class="caption-text">ORB Descriptor</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</div>
<div class="figure align-center" id="id3">
<img alt="../_images/brisk.png" src="../_images/brisk.png" />
<p class="caption"><span class="caption-text">BRISK Descriptor</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ba.html" class="btn btn-neutral float-left" title="Bundle Adjustment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../se/rotations.html" class="btn btn-neutral float-right" title="Euler Angles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Chris Choi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>